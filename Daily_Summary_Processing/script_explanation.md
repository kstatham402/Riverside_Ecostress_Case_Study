---
title: "Python CSV File Cleaning and Splitting Tutorial"
output: html_document
---

## Introduction
This tutorial demonstrates two Python scripts designed to handle CSV files. These scripts are useful for cleaning and splitting weather station data. If you are learning Python and want to explore file handling and data processing, this is a practical example.

### Problem Statement
We are working with a dataset containing daily weather summaries. Each row in the dataset represents weather data for a specific station. Our goals are:

1. Split the large dataset into individual CSV files for each station.
2. Filter the files to include only those with at least 80% valid temperature data (`TMAX`).

---

## Script 1: Splitting the CSV File by Station
### Overview
The first script, `SplitCsv.py`, takes a large CSV file and splits it into smaller files based on the `STATION` column. Each output file contains data for a single station.

### Key Components
1. **Reading the Input File:** The script uses `csv.DictReader` to read the input CSV file row by row.
2. **Creating Output Files:** A separate CSV file is created for each unique station.
3. **Writing Data to Files:** Each row is written to the corresponding station's CSV file.


---

## Script 2: Cleaning the Split Files
### Overview
The second script, `CleanedDailySummaries.py`, processes the files generated by the first script. It checks the percentage of valid temperature data (`TMAX`) in each file and moves files meeting the threshold (80%) to a designated directory.

### Key Components
1. **Threshold Filtering:** Calculates the percentage of rows with valid `TMAX` data.
2. **Moving Files:** Files that meet the threshold are moved to a new directory.
3. **Statistics:** Prints the number of files included and excluded.


---

## Steps to Run the Scripts
1. Place the original dataset (`DailySummaries.csv`) in the same directory as the scripts.
2. Run `SplitCsv.py` to split the dataset into individual station files.
3. Run `CleanedDailySummaries.py` to filter and clean the split files based on the `TMAX` threshold.

---

## Key Python Concepts Covered
- **File Handling:** Opening, reading, writing, and moving files.
- **Dictionaries:** Using dictionaries to manage multiple file writers.
- **Data Validation:** Checking data quality with thresholds.
- **Directory Management:** Creating and managing directories programmatically.
- **Error Handling:** Avoiding errors by checking for empty rows.

---

## Additional Exercises
1. Modify the cleaning script to check for multiple columns, such as `TMIN` or `TAVG`.
2. Add logging to save detailed information about the processing steps.
3. Combine the scripts into a single workflow with command-line arguments for flexibility.

---

This tutorial showcases how Python can handle real-world data tasks, such as cleaning and organizing datasets. Try running the scripts on your own dataset to deepen your understanding!